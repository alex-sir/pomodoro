!function(){let e;const t=document.querySelector("#timer");let o=!1;const n=document.querySelector("#play"),r=document.querySelector("#pause"),s=document.querySelector("#stop"),c=document.querySelector("#reset"),i=document.querySelectorAll(".arrow"),a=document.querySelectorAll(".pomodoro");let l=0;const d=document.querySelector(".session-title h3"),u=document.querySelector("#increase-session"),y=document.querySelector("#session-minutes");let k=60*parseInt(y.textContent);const b=document.querySelector(".break-title h3"),g=document.querySelector("#decrease-session"),p=document.querySelector("#increase-break"),m=document.querySelector("#break-minutes"),h=document.querySelector("#decrease-break");let L=!0;const f=document.querySelector("#auto-start"),v=document.querySelector("#notifications"),S=document.querySelector("#tab-title-time"),E=document.querySelector("#break-long-break-link");let C=!1,q=!0,w=!1,x=!1,I=15;const A="favicon/android-chrome-192x192.png",P=document.querySelector("#session-input"),z=document.querySelector(".confirm-time-change-session"),K=document.querySelector("#break-input"),M=document.querySelector(".confirm-time-change-break"),D=document.querySelector("#long-break-input"),T=document.querySelector(".confirm-time-change-long-break"),B=document.querySelector(".time-input-wrapper:last-child>label"),F=document.querySelectorAll(".time-input"),j=document.querySelectorAll(".confirm-time-change"),G=document.querySelectorAll(".time-input-wrapper>label"),H=document.querySelector(".pomodoro:last-of-type");function J(t,c=!0,d){function u(){o||(o=!0),C&&4!==l&&!o&&(k=60*m.textContent),t=k,clearInterval(e),f.disabled=!0,E.disabled=!0,n.disabled=!0,r.disabled=!1,s.disabled=!1;for(let e=0;e<F.length;e++)"long-break-input"===F[e].id&&E.checked||(F[e].disabled=!0,F[e].classList.add("line-through-long-break","opacity-long-break")),j[e].classList.contains("confirm-time-change-long-break")&&E.checked||(j[e].style.pointerEvents="none",j[e].classList.add("opacity-long-break","pointer-events-long-break")),"long-break-input"===G[e].getAttribute("for")&&E.checked||G[e].classList.add("line-through-long-break","opacity-long-break");i.forEach(e=>{e.disabled=!0});const d=Date.now()+1e3*t;Q(t),e=setInterval(()=>{const t=Math.round((d-Date.now())/1e3);k-=1,t<1&&(clearInterval(e),f.checked&&(currentActive=N(!1),4===l?(Push.create("Long break over!",{body:"Session started.",icon:A}),C=!1,w=!0,q=!1,x=!1,l=0,a.forEach(e=>{he?e.setAttribute("style",`background-color: ${ge}; border-color: ${pe};`):e.classList.remove(`${currentActive.split("-")[0]}-background`)}),J(k=60*parseInt(y.textContent),!0,!0)(),n.disabled=!1):c&&!C?(C=!0,w=!0,q=!1,l++,he?a[l-1].setAttribute("style",`background-color: ${pe}; border-color: ${pe};`):a[l-1].classList.add(`${currentActive.split("-")[0]}-background`),4===l?(k=Math.min(60*I,6e3),Push.create("Session over!",{body:"Long break started.",icon:A}),x=!0):(k=60*parseInt(m.textContent),Push.create("Session over!",{body:"Break started.",icon:A})),J(k,!1,!0)(),n.disabled=!1):(Push.create("Break over!",{body:"Session started.",icon:A}),C=!1,w=!1,q=!0,J(k=60*parseInt(y.textContent),!0,!0)(),n.disabled=!1))),Q(t)},1e3)}if(d)return u;document.addEventListener("keydown",e=>{if(32===e.keyCode){if(e.repeat)return;r.disabled?u():R(r,!1)()}}),n.addEventListener("click",u)}function N(e){let t;if(he){if(e)return;d.classList="",b.classList="",L?(L=!1,d.style.background="",d.style.backgroundSize="",d.style.backgroundPosition="",b.style.background=`linear-gradient(to right, ${pe}, ${pe}) no-repeat`,b.style.backgroundSize="var(--pomodoro-size)",b.style.backgroundPosition="var(--pomodoro-position)"):(L=!0,b.style.background="",b.style.backgroundSize="",b.style.backgroundPosition="",d.style.background=`linear-gradient(to right, ${pe}, ${pe}) no-repeat`,d.style.backgroundSize="var(--pomodoro-size)",d.style.backgroundPosition="var(--pomodoro-position)")}else{if(t=d.classList.length>=1?d.classList[d.classList.length-1]:b.classList[b.classList.length-1],e)return t;b.classList.toggle(t),d.classList.toggle(t)}return t}function O(e,t,n,r=!0){function s(e=!1){parseInt(t.textContent)>=6e3||!r&&!C&&e||r&&C&&e||(t.textContent=parseInt(t.textContent)+1,r?(C||Q(60*parseInt(t.textContent),!1),k+=60):C&&(w&&x&&E.checked?Q(3*parseInt(t.textContent)*60,!1):x||Q(60*parseInt(t.textContent),!1),x?E.checked&&(k+=180):k+=60),E.checked&&(I=3*parseInt(m.textContent)))}function c(e=!1){parseInt(t.textContent)<=1||!r&&!C&&e||r&&C&&e||(t.textContent=parseInt(t.textContent)-1,r?(C||Q(60*parseInt(t.textContent),!1),k-=60):C&&(w&&x&&E.checked?Q(3*parseInt(t.textContent)*60,!1):x||Q(60*parseInt(t.textContent),!1),x?E.checked&&(k-=180):k-=60),E.checked&&(I=3*parseInt(m.textContent)))}e.addEventListener("click",()=>{s(!1)}),document.addEventListener("keydown",e=>{e.altKey&&38===e.keyCode&&!o&&s(!0)}),n.addEventListener("click",()=>{c(!1)}),document.addEventListener("keydown",e=>{e.altKey&&40===e.keyCode&&!o&&c(!0)})}function Q(e,o=!0){let n=Math.floor(e/60);const r=e%60;let s;if(n>=60){const e=Math.floor(n/60);n%=60,s=`${e<10?e.toString().padStart(2,0):e}:${n<10?n.toString().padStart(2,0):n}:${r<10?r.toString().padStart(2,0):r}`}else s=`${n<10?n.toString().padStart(2,0):n}:${r<10?r.toString().padStart(2,0):r}`;t.textContent=s,o&&S.checked&&(document.title=`(${s}) Pomodoro`)}function R(t,o){function r(){clearInterval(e),d.classList>=1?J(0,!0,!0):J(0,!1,!0),t.disabled=!0,n.disabled=!1}if(!o)return r;t.disabled=!0,t.addEventListener("click",r)}function U(){b.classList.length>=1?(d.classList.add(b.classList[b.classList.length-1]),b.classList=""):he&&(d.style.background=`linear-gradient(to right, ${pe}, ${pe}) no-repeat`,d.style.backgroundSize="var(--pomodoro-size)",d.style.backgroundPosition="var(--pomodoro-position)",b.style.background="",L=!0)}function V(t,s){parseInt(y.textContent),o=!1,s=60*parseInt(y.textContent),k=s,clearInterval(e),Q(s),U(),W(a),l=0,C=!1,q=!0,w=!1,t.disabled=!0,r.disabled=!0,n.disabled=!1,f.disabled=!1,E.disabled=!1;for(let e=0;e<F.length;e++)"long-break-input"===F[e].id&&E.checked||(F[e].disabled=!1,F[e].classList.remove("line-through-long-break","opacity-long-break")),j[e].classList.contains("confirm-time-change-long-break")&&E.checked||(j[e].style.pointerEvents="auto",j[e].classList.remove("opacity-long-break","pointer-events-long-break")),"long-break-input"===G[e].getAttribute("for")&&E.checked||G[e].classList.remove("line-through-long-break","opacity-long-break");i.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",J(s,!0,!0)}function W(e){e.forEach(e=>{if(he)e.classList="",e.classList.add("pomodoro"),e.style.backgroundColor="";else{const t=e.classList[1];e.classList="",e.classList.add("pomodoro",t)}})}window.onload=(J(k,!0,!1),O(u,y,g,!0),O(p,m,h,!1),function(e,t,n){function r(){o&&V(s,k),k===60*I&&W(a),C=!1,x=!1,k=60*parseInt(y.textContent),l=0,Q(k,!1),J(k,!0,!0),q||w&&(w=!1,q=!0,N(!1))}function c(){o&&V(s,k),k===60*I&&W(a),C=!0,x=!1,k=60*parseInt(m.textContent),l=0,Q(k,!1),J(k,!1,!0),w||q&&(w=!0,q=!1,N(!1))}function i(){o&&V(s,k),C=!0,x=!0,Q(k=60*parseInt(I),!1),J(k,!1,!0),currentActive=N(!0),l=4,a.forEach(e=>{he?e.setAttribute("style",`background-color: ${pe}; border-color: ${pe};`):e.classList.add(`${currentActive.split("-")[0]}-background`)}),w||q&&(w=!0,q=!1,N(!1))}document.addEventListener("keydown",e=>{if(e.altKey&&80===e.keyCode){if(e.repeat)return;r()}}),e.addEventListener("click",r),document.addEventListener("keydown",e=>{if(e.altKey&&66===e.keyCode){if(e.repeat)return;c()}}),t.addEventListener("click",c),document.addEventListener("keydown",e=>{if(e.altKey&&76===e.keyCode){if(e.repeat)return;i()}}),n.addEventListener("click",i)}(d,b,H),R(r,!0),function(t,s){function c(){s=C&&4!==l?60*parseInt(m.textContent):4===l?60*I:60*parseInt(y.textContent),o=!1,k=s,clearInterval(e),Q(s),t.disabled=!0,r.disabled=!0,n.disabled=!1,f.disabled=!1,E.disabled=!1;for(let e=0;e<F.length;e++)"long-break-input"===F[e].id&&E.checked||(F[e].disabled=!1,F[e].classList.remove("line-through-long-break","opacity-long-break")),j[e].classList.contains("confirm-time-change-long-break")&&E.checked||(j[e].style.pointerEvents="auto",j[e].classList.remove("opacity-long-break","pointer-events-long-break")),"long-break-input"===G[e].getAttribute("for")&&E.checked||G[e].classList.remove("line-through-long-break","opacity-long-break");i.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",J(s,!C,!0)}t.disabled=!0,document.addEventListener("keydown",e=>{if(e.altKey&&83===e.keyCode){if(e.repeat)return;c()}}),t.addEventListener("click",c)}(s,k),function(s){function c(){o=!1,clearInterval(e),t.textContent="25:00",y.textContent="25",U(),C=!1,q=!0,w=!1;for(let e=0;e<F.length;e++)"long-break-input"===F[e].id&&E.checked||(F[e].disabled=!1,F[e].classList.remove("line-through-long-break","opacity-long-break")),j[e].classList.contains("confirm-time-change-long-break")&&E.checked||(j[e].style.pointerEvents="auto",j[e].classList.remove("opacity-long-break","pointer-events-long-break")),"long-break-input"===G[e].getAttribute("for")&&E.checked||G[e].classList.remove("line-through-long-break","opacity-long-break");W(a),l=0,k=60*parseInt(y.textContent),m.textContent="5",I=15,i.forEach(e=>{e.disabled=!1}),n.disabled=!1,r.disabled=!0,f.disabled=!1,E.disabled=!1,document.title="Pomodoro",J(60*parseInt(t.textContent.split(":")[0]),!0,!0)}document.addEventListener("keydown",e=>{if(e.altKey&&82===e.keyCode){if(e.repeat)return;c()}}),s.addEventListener("click",c)}(c),function(e){e.addEventListener("change",e=>{e.target.checked&&Push.Permission.request()})}(v),function(e,t,o,n,r,s,c){function i(e){189!==e.keyCode&&187!==e.keyCode&&69!==e.keyCode&&190!==e.keyCode||e.preventDefault()}function a(e,t,o,n){let r=e.value;r>6e3?(r=6e3,e.value=6e3):(r<1||0===e.length)&&(r=1,e.value=1),o?C||(Q(60*r,!1),k=60*r):o||(C&&!n?(Q(60*r,!1),k=60*r):n&&x&&(Q(60*r,!1),k=60*r)),n&&(I=+r),t.textContent=parseInt(r,10)}e.addEventListener("click",()=>{a(t,y,!0,!1)}),t.addEventListener("keydown",e=>{if(i(e),13===e.keyCode){if(e.repeat)return;a(t,y,!0,!1)}}),o.addEventListener("click",()=>{a(n,c,!1,!1)}),n.addEventListener("keydown",e=>{if(i(e),13===e.keyCode){if(e.repeat)return;a(n,c,!1,!1)}}),r.addEventListener("click",()=>{a(s,I,!1,!0)}),s.addEventListener("keydown",e=>{if(13===e.keyCode){if(e.repeat)return;a(s,I,!1,!0)}})}(z,P,M,K,T,D),void function(e,t,o,n){e.addEventListener("change",e=>{e.target.checked?(t.classList.add("line-through-long-break","opacity-long-break"),n.classList.add("line-through-long-break","opacity-long-break"),o.classList.add("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="none",t.disabled=!0,I=3*+m.textContent,x&&(Q(60*I,!1),k=60*I)):e.target.checked||(t.classList.remove("line-through-long-break","opacity-long-break"),n.classList.remove("line-through-long-break","opacity-long-break"),o.classList.remove("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="auto",t.disabled=!1)})}(E,D,T,B));const X=document.querySelector("#simple-modal-settings"),Y=document.querySelector("#simple-modal-about"),Z=document.querySelector("#modal-btn-settings"),_=document.querySelector("#modal-btn-about"),ee=document.querySelector("#close-btn-settings"),te=document.querySelector("#close-btn-about"),oe=document.querySelector(".settings"),ne=document.querySelector(".about");function re(e,t){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),t.style.transform="rotate(0deg)",ie.style.overflow="auto"}function se(e){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),ne.style.transform="scale(1)",ie.style.overflow="auto"}window.onload=(function(e,t,o,n){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",n.style.transform="rotate(90deg)",ie.style.overflow="hidden",n.blur()}),o.addEventListener("click",()=>{re(e,n)}),window.addEventListener("click",function(t){t.target===e&&re(e,n)})}(X,Z,ee,oe),void function(e,t,o,n){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",n.style.transform="scale(0.85)",ie.style.overflow="hidden",n.blur()}),o.addEventListener("click",()=>{se(e)}),window.addEventListener("click",function(t){t.target===e&&se(e)})}(Y,_,te,ne));const ce=document.querySelectorAll(".theme"),ie=document.querySelector("body"),ae=document.querySelectorAll(".dark-color"),le=(document.querySelectorAll(".dark-"),document.querySelectorAll(".dark-border"));let de=document.querySelector(".dark-active");const ue=document.querySelector(".dark-title"),ye=document.querySelector(".theme-warning-background"),ke=document.querySelector("#accept-restart"),be=document.querySelector("#decline-restart");let ge,pe;const me=document.querySelector("#apply-custom-theme");let he=!1;function Le(){$("#color-picker-body").spectrum({color:"#000080",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),$("#color-picker-content").spectrum({color:"#C8C8C8",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),ge=$("#color-picker-body").spectrum("get"),pe=$("#color-picker-content").spectrum("get"),$("#color-picker-body").on("change.spectrum",()=>{ge=$("#color-picker-body").spectrum("get")}),$("#color-picker-content").on("change.spectrum",()=>{pe=$("#color-picker-content").spectrum("get")}),me.addEventListener("click",()=>{(o||l>=1)&&!x||o?function(e,t,o,n,r){o.style.display="block",e.addEventListener("click",()=>{he=!0,ve(!1),V(s,k),q=!0,w=!1,C=!1,x=!1,fe(n,r,!0),Ee(!0),o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}(ke,be,ye,ge,pe):(he=!0,fe(ge,pe,!1),C&&Ee(!0))})}function fe(e,t,o){ie.setAttribute("style",`background-color: ${e}; color: ${t};`),ae.forEach(e=>{e.setAttribute("style",`color: ${t};`)}),le.forEach(e=>{e.setAttribute("style",`border-color: ${t}`)}),C?b.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`):d.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`),ue.setAttribute("style",`color: ${t}`),a.forEach(e=>{e.style.borderColor=t,x&&!o&&(e.style.backgroundColor=t)}),re(X,oe)}function ve(e=!1){e&&(he=!1),ie.style.backgroundColor="",ie.style.color="",ae.forEach(e=>{e.style.color=""}),le.forEach(e=>{e.style.borderColor=""}),b.style.background="",de.style.background="",de.style.backgroundSize="",de.style.backgroundPosition="",ue.style.color="",a.forEach(e=>{e.style.borderColor="",e.style.backgroundColor=""})}function Se(e){e.forEach(e=>{e.addEventListener("click",function(){(o||l>=1)&&!x||o?function(e,t,o,n){o.style.display="block",e.addEventListener("click",()=>{V(s,k),Ce(n,ae,le,de,ue,a,X,!0),he&&ve(!0),q=!0,w=!1,C=!1,x=!1,o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}(ke,be,ye,e):(he&&ve(!0),setTimeout(()=>{C&&Ee(!1)},0),Ce(e,ae,le,de,ue,a,X,!1))})})}function Ee(e){if(he||e)e&&(L=!C,d.classList="",b.classList="");else{let e=d.classList[d.classList.length-1];b.classList="",b.classList.add(e),d.classList=""}}function Ce(e,t,o,n,r,s,c,i){ie.classList="",ie.classList.add(e.classList[1]),t.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-color`)}),o.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-border`)}),n.classList.remove(n.classList[n.classList.length-1]),n.classList.add(`${e.classList[1]}-active`),n=document.querySelector(`.${e.classList[1]}-active`),r.classList.remove(r.classList[r.classList.length-1]),r.classList.add(`${e.classList[1]}-title`),s.forEach(t=>{t.classList="",t.classList.add("pomodoro",`${e.classList[1]}-border`),x&&!i&&t.classList.add("pomodoro",`${e.classList[1]}-background`)}),re(c,oe)}window.onload=(Se(ce),void Le())}();
//# sourceMappingURL=bundle.min.js.map
