"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var o=[],n=!0,i=!1,s=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(e){i=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return o}function _arrayWithHoles(e){if(Array.isArray(e))return e}var countdown,currentActive,timer=document.querySelector("#timer"),timerStarted=!1,playPause=document.querySelector("#play-pause"),playPauseIcon=document.querySelector("#play-pause>.la"),isPaused=!0,stop=document.querySelector("#stop"),reset=document.querySelector("#reset"),pomodoros=document.querySelectorAll(".pomodoro"),pomodorosCount=0,sessionTitle=document.querySelector(".session-title h3"),sessionMinutes=document.querySelector("#session-minutes"),breakTitle=document.querySelector(".break-title h3"),breakMinutes=document.querySelector("#break-minutes"),longBreakTitle=document.querySelector(".long-break-title h3"),longBreakMinutes=document.querySelector("#long-break-minutes"),longBreak=15,longBreakPomodoro=document.querySelector(".pomodoro:last-of-type"),longBreakInput=document.querySelector("#long-break-input"),confirmTimeChangeLongBreak=document.querySelector(".confirm-time-change-long-break"),timeInputLabelLongBreak=document.querySelector("#long-break-input-label"),sessionSeconds=60*parseInt(sessionMinutes.textContent),tabTitle="Pomotimer",preferences=document.querySelectorAll(".preference"),autoStart=document.querySelector("#auto-start"),notifications=document.querySelector("#notifications"),tabTitleTime=document.querySelector("#tab-title-time"),breakLongBreakLink=document.querySelector("#break-long-break-link"),fullscreen=document.querySelector("#fullscreen-toggle"),zenModeToggle=document.querySelector("#zen-mode"),breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,longBreakTimeSelected=!1,customThemeSwitch="session",timeInputs=document.querySelectorAll(".time-input"),timeInputLabels=document.querySelectorAll(".time-input-wrapper>label"),sessionInput=document.querySelector("#session-input"),breakInput=document.querySelector("#break-input"),confirmTimeChanges=document.querySelectorAll(".confirm-time-change"),confirmTimeChangeSession=document.querySelector(".confirm-time-change-session"),confirmTimeChangeBreak=document.querySelector(".confirm-time-change-break"),timeInputsReset=document.querySelector(".time-inputs-reset"),notificationIcon="assets/favicon/android-chrome-192x192.png",notificationTime=5e3,notificationSound=new Audio("assets/sound/blithe.mp3"),optionsNotificationSound=document.querySelector("#notification-sound-select"),playNotificationSound=document.querySelector(".test-sound"),timerElements=document.querySelectorAll("main *:not(#timer):not(.timer-display)"),navElements=document.querySelectorAll(".zen-element"),mainHeader=document.querySelector(".main-header"),transitionTime=.4,zenModeOpacityRange=document.querySelector("#zen-mode-opacity"),zenModeOpacity=zenModeOpacityRange.value,headerBottomBorder=window.getComputedStyle(document.querySelector(".main-header")).borderBottomColor,tempHeaderBottomBorder=headerBottomBorder.substring(headerBottomBorder.indexOf("(")+1,headerBottomBorder.length-1).split(", ");tempHeaderBottomBorder=rgbHex(parseInt(tempHeaderBottomBorder[0],10),parseInt(tempHeaderBottomBorder[1],10),parseInt(tempHeaderBottomBorder[2],10)),headerBottomBorder=hexToRgba("#".concat(tempHeaderBottomBorder),(parseFloat(zenModeOpacity)-.2).toString());var nav=document.querySelector("nav"),timeOptions=document.querySelectorAll(".time-option"),timerControls=document.querySelector(".timer-controls"),timerControlsElements=document.querySelectorAll(".timer-controls *"),pomodoroContainer=document.querySelector(".pomodoro-container"),pomodoroContainerElements=document.querySelectorAll(".pomodoro-container *");function storageAvailable(e){var t;try{t=window[e];var o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}function setStorage(){0===window.localStorage.length&&storageAvailable("localStorage")&&(localStorage.setItem("session",JSON.stringify(sessionMinutes.textContent)),localStorage.setItem("break",JSON.stringify(breakMinutes.textContent)),localStorage.setItem("longBreak",JSON.stringify(longBreak)),localStorage.setItem("autoStart",JSON.stringify(!0)),autoStart.checked=!0,localStorage.setItem("notifications",JSON.stringify(!1)),notifications.checked=!1,localStorage.setItem("tabTitleTime",JSON.stringify(!0)),tabTitleTime.checked=!0,localStorage.setItem("breakLongBreakLink",JSON.stringify(!0)),breakLongBreakLink.checked=!0,localStorage.setItem("zenMode",JSON.stringify(!0)),zenModeToggle.checked=!0,localStorage.setItem("zenModeOpacityRangeValue",JSON.stringify("0.6")),zenModeOpacityRange.value="0.6",zenModeOpacity=zenModeOpacityRange.value,localStorage.setItem("notificationSound",JSON.stringify(optionsNotificationSound.value)))}function setStorageTime(){localStorage.setItem("session",JSON.stringify(sessionMinutes.textContent)),localStorage.setItem("break",JSON.stringify(breakMinutes.textContent)),localStorage.setItem("longBreak",JSON.stringify(longBreak))}function setStoragePreferences(){preferences.forEach(function(e){e.addEventListener("change",function(){localStorage.setItem(e.getAttribute("data-preference"),JSON.stringify(e.checked))})})}function checkTimerFont(e,t){36e4===e&&window.matchMedia("(max-width: 420px)").matches?(t.style.fontSize="4.5rem",t.setAttribute("style","font-size: 5rem; margin: 24px 0;")):e>=3600&&window.matchMedia("(max-width: 420px)").matches?(t.style.fontSize="5rem",t.setAttribute("style","font-size: 5rem; margin: 24px 0;")):window.matchMedia("(max-width: 420px)").matches&&t.setAttribute("style","font-size: 8rem;")}function loadStorage(){sessionMinutes.textContent=JSON.parse(localStorage.getItem("session")),sessionInput.setAttribute("value",JSON.parse(localStorage.getItem("session"))),displayTimeLeft(sessionSeconds=60*+sessionMinutes.textContent,!1),breakMinutes.textContent=JSON.parse(localStorage.getItem("break")),breakInput.setAttribute("value",JSON.parse(localStorage.getItem("break"))),longBreak=JSON.parse(localStorage.getItem("longBreak")),longBreakInput.setAttribute("value",longBreak),longBreakMinutes.textContent=longBreak,autoStart.checked=JSON.parse(localStorage.getItem("autoStart")),notifications.checked=JSON.parse(localStorage.getItem("notifications")),tabTitleTime.checked=JSON.parse(localStorage.getItem("tabTitleTime")),breakLongBreakLink.checked=JSON.parse(localStorage.getItem("breakLongBreakLink")),breakLongBreakLinkCheck(breakLongBreakLink,longBreakInput,confirmTimeChangeLongBreak,timeInputLabelLongBreak,breakMinutes,!0)(breakLongBreakLink),zenModeToggle.checked=JSON.parse(localStorage.getItem("zenMode")),zenModeOpacityRange.value=JSON.parse(localStorage.getItem("zenModeOpacityRangeValue")),zenModeOpacity=zenModeOpacityRange.value,optionsNotificationSound.value=JSON.parse(localStorage.getItem("notificationSound")),notificationSound="none"===optionsNotificationSound.value?new Audio:new Audio("assets/sound/".concat(optionsNotificationSound.value,".mp3")),checkTimerFont(sessionSeconds,timer)}function clearStorage(){var e=document.querySelector("#clear-storage"),t=document.querySelector(".storage-warning-background"),o=document.querySelector("#accept-clear"),n=document.querySelector("#decline-clear");e.addEventListener("click",function(){t.style.display="block",o.addEventListener("click",function(){localStorage.clear(),t.style.display="none",location.reload(!0)}),n.addEventListener("click",function(){t.style.display="none"}),window.addEventListener("click",function(e){e.target===t&&(t.style.display="none")})})}function logStorage(){var e=document.querySelector("#log-storage"),t=document.querySelector(".storage-log-wrapper"),o=document.querySelector("#close-btn-log"),n=document.querySelector("#storage-log-content");function i(){t.style.display="none",n.textContent=""}e.addEventListener("click",function(){t.style.display="block";for(var e=0,o=Object.entries(localStorage);e<o.length;e++){var i=_slicedToArray(o[e],2),s=i[0],r=i[1],a=document.createElement("div");a.textContent="".concat(s,": ").concat(r),a.style.marginBottom="10px",n.appendChild(a)}document.querySelector("#storage-log-content>div:last-child").style.marginBottom="0"}),o.addEventListener("click",function(){i()}),window.addEventListener("click",function(e){e.target===t&&i()})}function togglePlayPause(e){e.classList.toggle("la-play"),e.classList.toggle("la-pause")}function fullOpacity(){function e(e,t){e.style.opacity="1",t.forEach(function(e){e.style.opacity="1"})}this.classList.contains("timer-controls")?(timerControls.style.opacity="1",timerControlsElements.forEach(function(e){e.classList.contains("btn-time")?(e.style.removeProperty("transition"),e.style.removeProperty("opacity")):e.style.opacity="1"})):this.classList.contains("pomodoro-container")?e(pomodoroContainer,pomodoroContainerElements):this.classList.contains("main-nav")?e(nav,navElements):this.classList.contains("time-option")&&timeOptions.forEach(function(e){"H3"===e.tagName?(e.style.removeProperty("transition"),e.style.removeProperty("opacity")):e.style.opacity="1"})}function lessOpacity(){function e(e,t){e.style.opacity=zenModeOpacity,t.forEach(function(e){e.style.opacity=zenModeOpacity})}this.classList.contains("timer-controls")?e(timerControls,timerControlsElements):this.classList.contains("pomodoro-container")?e(pomodoroContainer,pomodoroContainerElements):this.classList.contains("main-nav")?e(nav,navElements):this.classList.contains("time-option")&&timeOptions.forEach(function(e){e.style.opacity=zenModeOpacity})}function zenMode(e){function t(){timerElements.forEach(function(e){e.style.opacity="1",setTimeout(function(){e.style.removeProperty("transition"),e.style.removeProperty("opacity")},1e3*transitionTime)}),navElements.forEach(function(e){e.style.opacity="1",setTimeout(function(){e.style.removeProperty("transition"),e.style.removeProperty("opacity")},1e3*transitionTime)}),mainHeader.style.borderColor=hexToRgba("#".concat(tempHeaderBottomBorder),"1"),nav.style.opacity="1",timerControls.removeEventListener("mouseover",fullOpacity,!1),timerControls.removeEventListener("mouseout",lessOpacity,!1),pomodoroContainer.removeEventListener("mouseover",fullOpacity,!1),pomodoroContainer.removeEventListener("mouseout",lessOpacity,!1),nav.removeEventListener("mouseover",fullOpacity,!1),nav.removeEventListener("mouseout",lessOpacity,!1),timeOptions.forEach(function(e){e.removeEventListener("mouseover",fullOpacity,!1),e.removeEventListener("mouseout",lessOpacity,!1)}),customThemeActive?mainHeader.classList.remove(mainHeader.classList[1]):mainHeader.style.removeProperty("border-color"),setTimeout(function(){mainHeader.style.removeProperty("transition"),nav.style.removeProperty("transition")},1e3*transitionTime)}if(headerBottomBorder=window.getComputedStyle(document.querySelector(".main-header")).borderBottomColor,tempHeaderBottomBorder=headerBottomBorder.substring(headerBottomBorder.indexOf("(")+1,headerBottomBorder.length-1).split(", "),tempHeaderBottomBorder=rgbHex(parseInt(tempHeaderBottomBorder[0],10),parseInt(tempHeaderBottomBorder[1],10),parseInt(tempHeaderBottomBorder[2],10)),headerBottomBorder=hexToRgba("#".concat(tempHeaderBottomBorder),(parseFloat(zenModeOpacity)-.2).toString()),e)return t;playPauseIcon.classList.contains("la-pause")?(timerElements.forEach(function(e){e.style.transition="opacity ".concat(transitionTime,"s ease-in-out"),e.style.opacity=zenModeOpacity,e.style.transition="opacity ".concat(transitionTime,"s ease-in-out"),e.style.opacity=zenModeOpacity}),navElements.forEach(function(e){e.style.transition="opacity ".concat(transitionTime,"s ease-in-out"),e.style.opacity=(parseFloat(zenModeOpacity)-.2).toString()}),mainHeader.style.transition="border-color ".concat(transitionTime,"s ease-in-out"),mainHeader.style.borderBottomColor=headerBottomBorder,nav.style.transition="opacity ".concat(transitionTime,"s ease-in-out"),timerControls.addEventListener("mouseover",fullOpacity,!1),timerControls.addEventListener("mouseout",lessOpacity,!1),pomodoroContainer.addEventListener("mouseover",fullOpacity,!1),pomodoroContainer.addEventListener("mouseout",lessOpacity,!1),nav.addEventListener("mouseover",fullOpacity,!1),nav.addEventListener("mouseout",lessOpacity,!1),timeOptions.forEach(function(e){e.addEventListener("mouseover",fullOpacity,!1),e.addEventListener("mouseout",lessOpacity,!1)})):t()}function zenModePomodoroFinishedPomodoros(){pomodoroContainer.style.opacity="1",pomodoroContainerElements.forEach(function(e){e.style.opacity="1"}),setTimeout(function(){pomodoroContainerElements.forEach(function(e){e.style.opacity=zenModeOpacity}),pomodoroContainer.style.opacity=zenModeOpacity},2e3)}function zenModePomodoroFinishedTitles(){timeOptions.forEach(function(e){"H3"===e.tagName?(e.style.removeProperty("transition"),e.style.removeProperty("opacity")):e.style.opacity="1"}),setTimeout(function(){timeOptions.forEach(function(e){e.style.opacity=zenModeOpacity})},2e3)}function timerDisplay(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function o(){timerStarted||(timerStarted=!0),breakSelected&&4!==pomodorosCount&&!timerStarted&&(sessionSeconds=60*breakMinutes.textContent),e=sessionSeconds,clearInterval(countdown),isPaused=!1,autoStart.disabled=!0,breakLongBreakLink.disabled=!0,zenModeToggle.disabled=!0,zenModeOpacityRange.disabled=!0,timeInputsReset.disabled=!0;for(var o=0;o<timeInputs.length;o++)"long-break-input"===timeInputs[o].id&&breakLongBreakLink.checked||(timeInputs[o].disabled=!0,timeInputs[o].classList.add("line-through-long-break","opacity-long-break")),confirmTimeChanges[o].classList.contains("confirm-time-change-long-break")&&breakLongBreakLink.checked||(confirmTimeChanges[o].style.pointerEvents="none",confirmTimeChanges[o].classList.add("opacity-long-break","pointer-events-long-break")),"long-break-input"===timeInputLabels[o].getAttribute("for")&&breakLongBreakLink.checked||timeInputLabels[o].classList.add("line-through-long-break","opacity-long-break");var n=Date.now()+1e3*e;displayTimeLeft(e),countdown=setInterval(function(){var e=Math.round((n-Date.now())/1e3);if(sessionSeconds-=1,e<1)if(clearInterval(countdown),autoStart.checked){if(4===pomodorosCount){customThemeActive?(customThemeSwitch="session",titleBorderChange(!1,!1,!1,!1)):currentActive=titleBorderChange(!0,!1,!1,!1);try{if("granted"===Notification.permission){var o=new Notification("Respite over",{icon:notificationIcon,body:"Session started"});notificationSound.play(),setTimeout(o.close.bind(o),notificationTime)}}catch(e){}breakSelected=!1,breakTimeSelected=!0,sessionTimeSelected=!1,longBreakTimeSelected=!1,pomodorosCount=0,pomodoros.forEach(function(e){JSON.parse(localStorage.getItem("customThemeActive"))?e.setAttribute("style","background-color: ".concat(customValueBody,"; border-color: ").concat(customValueIcons,";")):e.classList.remove("".concat(currentActive.split("-")[0],"-background"))}),timerDisplay(sessionSeconds=60*parseInt(sessionMinutes.textContent),!0,!0)(),zenModeToggle.checked&&zenModePomodoroFinishedPomodoros()}else if(t&&!breakSelected){if(breakSelected=!0,breakTimeSelected=!0,sessionTimeSelected=!1,4===++pomodorosCount){sessionSeconds=Math.min(60*longBreak,6e3),customThemeActive?(customThemeSwitch="long break",titleBorderChange(!1,!1,!1,!1)):currentActive=titleBorderChange(!1,!1,!0,!1);try{if("granted"===Notification.permission){var i=new Notification("Session over",{icon:notificationIcon,body:"Respite started"});notificationSound.play(),setTimeout(i.close.bind(i),notificationTime)}}catch(e){}zenModeToggle.checked&&zenModePomodoroFinishedPomodoros(),longBreakTimeSelected=!0}else{sessionSeconds=60*parseInt(breakMinutes.textContent),customThemeActive?(customThemeSwitch="break",titleBorderChange(!1,!1,!1,!1)):currentActive=titleBorderChange(!1,!0,!1,!1);try{if("granted"===Notification.permission){var s=new Notification("Session over",{icon:notificationIcon,body:"Break started"});notificationSound.play(),setTimeout(s.close.bind(s),notificationTime)}}catch(e){}zenModeToggle.checked&&zenModePomodoroFinishedPomodoros()}JSON.parse(localStorage.getItem("customThemeActive"))?pomodoros[pomodorosCount-1].setAttribute("style","background-color: ".concat(customValueIcons,"; border-color: ").concat(customValueIcons,";")):pomodoros[pomodorosCount-1].classList.add("".concat(currentActive.split("-")[0],"-background")),timerDisplay(sessionSeconds,!1,!0)(),pomodoroContainerElements.forEach(function(e){e.style.opacity=1})}else{customThemeActive?(customThemeSwitch="session",titleBorderChange(!1,!1,!1,!1)):currentActive=titleBorderChange(!0,!1,!1,!1);try{if("granted"===Notification.permission){var r=new Notification("Break over",{icon:notificationIcon,body:"Session started"});notificationSound.play(),setTimeout(r.close.bind(r),notificationTime)}}catch(e){}breakSelected=!1,breakTimeSelected=!1,sessionTimeSelected=!0,timerDisplay(sessionSeconds=60*parseInt(sessionMinutes.textContent),!0,!0)()}zenModeToggle.checked&&zenModePomodoroFinishedTitles()}else try{if("granted"===Notification.permission){var a=new Notification("Time over",{icon:notificationIcon});notificationSound.play(),setTimeout(a.close.bind(a),notificationTime)}}catch(e){}displayTimeLeft(e)},1e3)}if(arguments.length>2?arguments[2]:void 0)return o;document.addEventListener("keydown",function(e){if(32===e.keyCode&&document.activeElement===body){if(e.repeat)return;isPaused?o():pauseTimer(!1)(),togglePlayPause(playPauseIcon),zenModeToggle.checked&&zenMode(!1)}}),playPause.addEventListener("click",function(){isPaused?o():pauseTimer(!1)(),togglePlayPause(playPauseIcon),zenModeToggle.checked&&zenMode(!1)})}function sessionBreakSelect(e,t,o){function n(){timerStarted&&stopTimerHard(stop,sessionSeconds),sessionSeconds===60*longBreak&&resetPomodoros(pomodoros),e.blur(),breakSelected=!1,sessionSeconds=60*parseInt(sessionMinutes.textContent),pomodorosCount=0,displayTimeLeft(sessionSeconds,!1),timerDisplay(sessionSeconds,!0,!0),sessionTimeSelected||(breakTimeSelected||longBreakTimeSelected)&&(breakTimeSelected=!1,longBreakTimeSelected=!1,sessionTimeSelected=!0,customThemeSwitch="session",titleBorderChange(!0,!1,!1,!1)),checkTimerFont(sessionSeconds,timer)}function i(){timerStarted&&stopTimerHard(stop,sessionSeconds),sessionSeconds===60*longBreak&&resetPomodoros(pomodoros),t.blur(),breakSelected=!0,sessionSeconds=60*parseInt(breakMinutes.textContent),pomodorosCount=0,displayTimeLeft(sessionSeconds,!1),timerDisplay(sessionSeconds,!1,!0),breakTimeSelected||(sessionTimeSelected||longBreakTimeSelected)&&(sessionTimeSelected=!1,longBreakTimeSelected=!1,breakTimeSelected=!0,customThemeSwitch="break",titleBorderChange(!1,!0,!1,!1)),checkTimerFont(sessionSeconds,timer)}function s(){timerStarted&&stopTimerHard(stop,sessionSeconds),o.blur(),breakSelected=!1,displayTimeLeft(sessionSeconds=60*parseInt(longBreakMinutes.textContent),!1),timerDisplay(sessionSeconds,!1,!0);var e=titleBorderChange(!1,!1,!1,!0);pomodorosCount=4,pomodoros.forEach(function(t){JSON.parse(localStorage.getItem("customThemeActive"))?t.setAttribute("style","background-color: ".concat(customValueIcons,"; border-color: ").concat(customValueIcons,";")):t.classList.add("".concat(e.split("-")[0],"-background"))}),longBreakTimeSelected||(sessionTimeSelected||breakTimeSelected)&&(longBreakTimeSelected=!0,breakTimeSelected=!1,sessionTimeSelected=!1,customThemeSwitch="long break",titleBorderChange(!1,!1,!0,!1)),checkTimerFont(sessionSeconds,timer)}document.addEventListener("keydown",function(e){if(e.altKey&&80===e.keyCode||document.activeElement===sessionTitle&&32===e.keyCode||document.activeElement===sessionTitle&&13===e.keyCode){if(e.repeat)return;n()}}),e.addEventListener("click",n),document.addEventListener("keydown",function(e){if(e.altKey&&66===e.keyCode||document.activeElement===breakTitle&&32===e.keyCode||document.activeElement===breakTitle&&13===e.keyCode){if(e.repeat)return;i()}}),t.addEventListener("click",i),document.addEventListener("keydown",function(e){if(e.altKey&&76===e.keyCode||document.activeElement===longBreakTitle&&32===e.keyCode||document.activeElement===longBreakTitle&&13===e.keyCode){if(e.repeat)return;s()}}),o.addEventListener("click",s)}function titleBorderChange(e,t,o,n){var i;if(JSON.parse(localStorage.getItem("customThemeActive")))return sessionTitle.classList="",breakTitle.classList="",longBreakTitle.classList="",sessionTitle.classList.add("time-option"),breakTitle.classList.add("time-option"),longBreakTitle.classList.add("time-option"),void("break"===customThemeSwitch?(sessionTitle.style.background="",sessionTitle.style.backgroundSize="",sessionTitle.style.backgroundPosition="",longBreakTitle.style.background="",longBreakTitle.style.backgroundSize="",longBreakTitle.style.backgroundPosition="",breakTitle.style.background="linear-gradient(to right, ".concat(customValueIcons,", ").concat(customValueIcons,") no-repeat"),breakTitle.style.backgroundSize="var(--pomodoro-size)",breakTitle.style.backgroundPosition="var(--pomodoro-position)"):"long break"===customThemeSwitch?(sessionTitle.style.background="",sessionTitle.style.backgroundSize="",sessionTitle.style.backgroundPosition="",breakTitle.style.background="",breakTitle.style.backgroundSize="",breakTitle.style.backgroundPosition="",longBreakTitle.style.background="linear-gradient(to right, ".concat(customValueIcons,", ").concat(customValueIcons,") no-repeat"),longBreakTitle.style.backgroundSize="var(--pomodoro-size)",longBreakTitle.style.backgroundPosition="var(--pomodoro-position)"):(breakTitle.style.background="",breakTitle.style.backgroundSize="",breakTitle.style.backgroundPosition="",longBreakTitle.style.background="",longBreakTitle.style.backgroundSize="",longBreakTitle.style.backgroundPosition="",sessionTitle.style.background="linear-gradient(to right, ".concat(customValueIcons,", ").concat(customValueIcons,") no-repeat"),sessionTitle.style.backgroundSize="var(--pomodoro-size)",sessionTitle.style.backgroundPosition="var(--pomodoro-position)"));if(sessionTitle.classList.length>=2){if(i=sessionTitle.classList[sessionTitle.classList.length-1],n)return i;sessionTitle.classList.toggle(i),t&&breakTitle.classList.toggle(i),o&&longBreakTitle.classList.toggle(i)}else if(breakTitle.classList.length>=2){if(i=breakTitle.classList[breakTitle.classList.length-1],n)return i;breakTitle.classList.toggle(i),e&&sessionTitle.classList.toggle(i),o&&longBreakTitle.classList.toggle(i)}else{if(i=longBreakTitle.classList[longBreakTitle.classList.length-1],n)return i;longBreakTitle.classList.toggle(i),e&&sessionTitle.classList.toggle(i),t&&breakTitle.classList.toggle(i)}return i}function displayTimeLeft(e){var t,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.floor(e/60),i=e%60;if(n>=60){var s=Math.floor(n/60);n%=60,t="".concat(s<10?s.toString().padStart(2,0):s,":").concat(n<10?n.toString().padStart(2,0):n,":").concat(i<10?i.toString().padStart(2,0):i)}else t="".concat(n<10?n.toString().padStart(2,0):n,":").concat(i<10?i.toString().padStart(2,0):i);timer.textContent=t,o&&tabTitleTime.checked&&(document.title="(".concat(t,") ").concat(tabTitle))}function pauseTimer(e){if(!e)return function(){clearInterval(countdown),sessionTitle.classList>=1?timerDisplay(0,!0,!0):timerDisplay(0,!1,!0),isPaused=!0};isPaused=!0}function breakSessionTitleReset(){breakTitle.classList.length>=2?(sessionTitle.classList.add(breakTitle.classList[breakTitle.classList.length-1]),breakTitle.classList="",breakTitle.classList.add("time-option")):longBreakTitle.classList.length>=2?(sessionTitle.classList.add(longBreakTitle.classList[longBreakTitle.classList.length-1]),longBreakTitle.classList="",longBreakTitle.classList.add("time-option")):JSON.parse(localStorage.getItem("customThemeActive"))&&(sessionTitle.style.background="linear-gradient(to right, ".concat(customValueIcons,", ").concat(customValueIcons,") no-repeat"),sessionTitle.style.backgroundSize="var(--pomodoro-size)",sessionTitle.style.backgroundPosition="var(--pomodoro-position)",breakTitle.style.background="",longBreakTitle.style.background="",customThemeSwitch="session")}function enableTimeInputs(){for(var e=0;e<timeInputs.length;e++)"long-break-input"===timeInputs[e].id&&breakLongBreakLink.checked||(timeInputs[e].disabled=!1,timeInputs[e].classList.remove("line-through-long-break","opacity-long-break")),confirmTimeChanges[e].classList.contains("confirm-time-change-long-break")&&breakLongBreakLink.checked||(confirmTimeChanges[e].style.pointerEvents="auto",confirmTimeChanges[e].classList.remove("opacity-long-break","pointer-events-long-break")),"long-break-input"===timeInputLabels[e].getAttribute("for")&&breakLongBreakLink.checked||timeInputLabels[e].classList.remove("line-through-long-break","opacity-long-break")}function enableCertainElements(){autoStart.disabled=!1,breakLongBreakLink.disabled=!1,zenModeToggle.disabled=!1,zenModeOpacityRange.disabled=!1,timeInputsReset.disabled=!1}function stopTimer(e,t){function o(){t=breakSelected&&4!==pomodorosCount?60*parseInt(breakMinutes.textContent):4===pomodorosCount?60*longBreak:60*parseInt(sessionMinutes.textContent),pomodorosCount>=1&&!longBreakTimeSelected||(timerStarted=!1),e.classList.add("shrink-animation"),e.disabled=!0,setTimeout(function(){e.classList.remove("shrink-animation"),e.disabled=!1},400),sessionSeconds=t,clearInterval(countdown),displayTimeLeft(t),isPaused=!0,playPauseIcon.classList.contains("la-pause")&&(togglePlayPause(playPauseIcon),zenModeToggle.checked&&zenMode(!0)()),enableCertainElements(),enableTimeInputs(),document.title=tabTitle,timerDisplay(t,!breakSelected,!0),checkTimerFont(sessionSeconds,timer)}document.addEventListener("keydown",function(e){if(e.altKey&&83===e.keyCode){if(e.repeat)return;o()}}),e.addEventListener("click",o)}function stopTimerHard(e){parseInt(sessionMinutes.textContent),timerStarted=!1,e=60*parseInt(sessionMinutes.textContent),sessionSeconds=e,clearInterval(countdown),displayTimeLeft(e),breakSessionTitleReset(),resetPomodoros(pomodoros),pomodorosCount=0,breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,longBreakTimeSelected=!1,isPaused=!0,playPauseIcon.classList.contains("la-pause")&&(togglePlayPause(playPauseIcon),zenModeToggle.checked&&zenMode(!0)()),enableCertainElements(),enableTimeInputs(),document.title=tabTitle,timerDisplay(e,!0,!0),checkTimerFont(sessionSeconds,timer)}function resetPomodoros(e){e.forEach(function(e){if(JSON.parse(localStorage.getItem("customThemeActive")))e.classList="",e.classList.add("pomodoro"),e.style.backgroundColor="";else{var t=e.classList[1];e.classList="",e.classList.add("pomodoro",t)}})}function resetTimer(e){function t(){e.setAttribute("style","transition: transform 0.4s ease-in-out; transform: rotate(-360deg)"),e.disabled=!0,setTimeout(function(){e.setAttribute("style",""),e.disabled=!1},400),timerStarted=!1,clearInterval(countdown),breakSessionTitleReset(),breakSelected=!1,sessionTimeSelected=!0,breakTimeSelected=!1,longBreakTimeSelected=!1,enableTimeInputs(),resetPomodoros(pomodoros),pomodorosCount=0,sessionSeconds=60*parseInt(sessionMinutes.textContent),isPaused=!0,playPauseIcon.classList.contains("la-pause")&&(togglePlayPause(playPauseIcon),zenModeToggle.checked&&zenMode(!0)()),enableCertainElements(),document.title=tabTitle,displayTimeLeft(parseInt(60*sessionMinutes.textContent,10),!1),checkTimerFont(sessionSeconds,timer),setStorageTime()}document.addEventListener("keydown",function(e){if(e.altKey&&82===e.keyCode){if(e.repeat)return;t()}}),e.addEventListener("click",t)}function toggleNotifications(e){e.addEventListener("change",function(e){e.target.checked&&Notification.requestPermission().then()})}function smallShrinkAnimation(e){e.classList.add("shrink-animation-sm"),e.disabled=!0,setTimeout(function(){e.classList.remove("shrink-animation-sm"),e.disabled=!1},400)}function changeTimeInput(e,t,o,n,i,s){function r(e){189!==e.keyCode&&187!==e.keyCode&&69!==e.keyCode&&190!==e.keyCode||e.preventDefault()}function a(e,t,o,n){var i=e.value;i>6e3?(i=6e3,e.value=6e3):(i<1||0===e.length)&&(i=1,e.value=1),o?breakSelected||longBreakTimeSelected||displayTimeLeft(sessionSeconds=60*i,!1):o||(longBreakTimeSelected&&breakLongBreakLink.checked?(longBreak=Math.min(3*i,6e3),sessionSeconds=60*longBreak,longBreakMinutes.textContent=longBreak,displayTimeLeft(sessionSeconds,!1)):longBreakTimeSelected&&!breakLongBreakLink.checked?n&&displayTimeLeft(sessionSeconds=60*i,!1):breakSelected&&!n?displayTimeLeft(sessionSeconds=60*i,!1):n&&longBreakTimeSelected&&displayTimeLeft(sessionSeconds=60*i,!1)),n&&(longBreak=+i),breakLongBreakLink.checked&&!o&&(longBreak=Math.min(3*i,6e3),longBreakMinutes.textContent=longBreak,s.value=longBreak),t.textContent=parseInt(i,10)}e.addEventListener("click",function(){a(t,sessionMinutes,!0,!1),checkTimerFont(sessionSeconds,timer),setStorageTime()}),t.addEventListener("keydown",function(e){if(r(e),13===e.keyCode){if(e.repeat)return;smallShrinkAnimation(t),a(t,sessionMinutes,!0,!1),checkTimerFont(sessionSeconds,timer),setStorageTime()}}),o.addEventListener("click",function(){a(n,breakMinutes,!1,!1),checkTimerFont(sessionSeconds,timer),setStorageTime()}),n.addEventListener("keydown",function(e){if(r(e),13===e.keyCode){if(e.repeat)return;smallShrinkAnimation(n),a(n,breakMinutes,!1,!1),checkTimerFont(sessionSeconds,timer),setStorageTime()}}),i.addEventListener("click",function(){a(s,longBreakMinutes,!1,!0),checkTimerFont(sessionSeconds,timer),setStorageTime()}),s.addEventListener("keydown",function(e){if(13===e.keyCode){if(e.repeat)return;smallShrinkAnimation(s),a(s,longBreakMinutes,!1,!0),checkTimerFont(sessionSeconds,timer),setStorageTime()}})}function resetTimeInput(e){e.addEventListener("click",function(){sessionInput.value="25",breakInput.value="5",longBreakInput.value="15",confirmTimeChanges.forEach(function(e){e.classList.contains("confirm-time-change-long-break")&&breakLongBreakLink.checked||e.click()}),smallShrinkAnimation(e)})}function breakLongBreakLinkCheck(e,t,o,n,i,s){function r(e){e.checked?(t.classList.add("line-through-long-break","opacity-long-break"),n.classList.add("line-through-long-break","opacity-long-break"),o.classList.add("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="none",t.disabled=!0,longBreak=Math.min(3*+i.textContent,6e3),longBreakMinutes.textContent=longBreak,t.value=longBreak,longBreakTimeSelected&&(displayTimeLeft(60*longBreak,!1),sessionSeconds=60*longBreak)):e.checked||(t.classList.remove("line-through-long-break","opacity-long-break"),n.classList.remove("line-through-long-break","opacity-long-break"),o.classList.remove("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="auto",t.disabled=!1)}if(e.addEventListener("change",function(){r(e),setStorageTime()}),s)return r}function toggleFullScreen(e){e.addEventListener("change",function(e){e.target.checked&&screenfull.enabled?screenfull.request():screenfull.exit()})}function selectNotificationSound(e,t){e.addEventListener("change",function(e){notificationSound="none"===e.target.value?new Audio:new Audio("assets/sound/".concat(e.target.value,".mp3")),localStorage.setItem("notificationSound",JSON.stringify(optionsNotificationSound.value))}),t.addEventListener("click",function(){notificationSound.play()})}function changeZenModeOpacityValue(e){e.addEventListener("change",function(){zenModeOpacity=e.value,localStorage.setItem("zenModeOpacityRangeValue",JSON.stringify(zenModeOpacity))})}function mainTimer(){setStorage(),setStoragePreferences(),loadStorage(),clearStorage(),logStorage(),timerDisplay(sessionSeconds,!0,!1),sessionBreakSelect(sessionTitle,breakTitle,longBreakTitle),pauseTimer(!0),stopTimer(stop,sessionSeconds),resetTimer(reset),toggleNotifications(notifications),changeTimeInput(confirmTimeChangeSession,sessionInput,confirmTimeChangeBreak,breakInput,confirmTimeChangeLongBreak,longBreakInput),resetTimeInput(timeInputsReset),breakLongBreakLinkCheck(breakLongBreakLink,longBreakInput,confirmTimeChangeLongBreak,timeInputLabelLongBreak,breakMinutes,!1),toggleFullScreen(fullscreen),changeZenModeOpacityValue(zenModeOpacityRange),selectNotificationSound(optionsNotificationSound,playNotificationSound)}window.onload=mainTimer();var modalSettings=document.querySelector("#simple-modal-settings"),modalBtnSettings=document.querySelector("#modal-btn-settings"),closeBtnSettings=document.querySelector("#close-btn-settings"),settings=document.querySelector(".settings"),modalAbout=document.querySelector("#simple-modal-about"),modalBtnAbout=document.querySelector("#modal-btn-about"),closeBtnAbout=document.querySelector("#close-btn-about"),about=document.querySelector(".about"),timerContainerElements=document.querySelectorAll(".container *");function modalDisplaySettings(e,t,o,n){t.addEventListener("click",function(){e.style.visibility="visible",e.style.opacity="1",n.style.transform="rotate(90deg)",body.style.overflow="hidden",n.blur()}),o.addEventListener("click",function(){hideModalSettings(e,n)}),document.addEventListener("keydown",function(t){document.activeElement!==closeBtnSettings||32!==t.keyCode&&13!==t.keyCode||hideModalSettings(e,n)}),window.addEventListener("click",function(t){t.target===e&&hideModalSettings(e,n)})}function hideModalSettings(e,t){e.style.opacity="0",setTimeout(function(){e.style.visibility="hidden"},300),t.style.transform="rotate(0deg)",body.style.overflow="auto"}function modalDisplayAbout(e,t,o,n){t.addEventListener("click",function(){e.style.visibility="visible",e.style.opacity="1",n.style.transform="scale(0.85)",body.style.overflow="hidden",n.blur()}),o.addEventListener("click",function(){hideModalAbout(e,n)}),document.addEventListener("keydown",function(t){document.activeElement!==closeBtnAbout||32!==t.keyCode&&13!==t.keyCode||hideModalAbout(e,n)}),window.addEventListener("click",function(t){t.target===e&&hideModalAbout(e,n)})}function hideModalAbout(e,t){e.style.opacity="0",setTimeout(function(){e.style.visibility="hidden"},300),t.style.transform="scale(1)",body.style.overflow="auto"}function modalDisplayGeneric(e,t,o){t.addEventListener("click",function(){e.style.visibility="visible",e.style.opacity="1",body.style.overflow="hidden"}),o.addEventListener("click",function(){hideModalGeneric(e)}),window.addEventListener("click",function(t){t.target===e&&hideModalGeneric(e)})}function hideModalGeneric(e){e.style.opacity="0",setTimeout(function(){e.style.visibility="hidden"},300),body.style.overflow="auto"}function mainModal(){modalDisplaySettings(modalSettings,modalBtnSettings,closeBtnSettings,settings),modalDisplayAbout(modalAbout,modalBtnAbout,closeBtnAbout,about)}window.onload=mainModal();var timerFontMediaQueryMin=window.matchMedia("(max-width: 420px)"),timerFontMediaQueryMax=window.matchMedia("(max-width: 675px)");function timerFontListenerMin(e){e.matches&&(36e4===sessionSeconds?(timer.style.fontSize="4.5rem",timer.setAttribute("style","font-size: 5rem; margin: 24px 0;")):sessionSeconds>=3600?(timer.style.fontSize="5rem",timer.setAttribute("style","font-size: 5rem; margin: 24px 0;")):timer.setAttribute("style","font-size: 8rem;"))}function timerFontListenerMax(e){e.matches?timer.style.fontSize=36e4===sessionSeconds?"17.5vw":sessionSeconds>=3600?"20vw":"8rem":timer.style=""}function mediaQueryListener(){timerFontMediaQueryMax.addListener(timerFontListenerMin),timerFontListenerMin(timerFontMediaQueryMin),timerFontMediaQueryMax.addListener(timerFontListenerMax),timerFontListenerMax(timerFontMediaQueryMax)}window.onload=mediaQueryListener();var newTheme,tempNewTheme,customValueBody,customValueIcons,tempCustomValueBody,tempCustomValueIcons,body=document.querySelector("body"),themes=document.querySelectorAll(".theme"),themeClass=document.querySelector("body").classList[0],themeWarningBackgroundPrebuilt=document.querySelector("#theme-warning-background-prebuilt"),themeWarningBackgroundCustom=document.querySelector("#theme-warning-background-custom"),themeColor=document.querySelectorAll(".dark-color"),themeBackground=document.querySelectorAll(".dark-background"),themeBorder=document.querySelectorAll(".dark-border"),themeActive=document.querySelector(".dark-active"),themeTitle=document.querySelector(".dark-title"),currentTheme=body.classList[0],acceptRestartPrebuilt=document.querySelector("#accept-restart-prebuilt"),declineRestartPrebuilt=document.querySelector("#decline-restart-prebuilt"),acceptRestartCustom=document.querySelector("#accept-restart-custom"),declineRestartCustom=document.querySelector("#decline-restart-custom"),applyCustomTheme=document.querySelector("#apply-custom-theme"),customThemeActive=!1,bodyBackgroundColor="#".concat(rgbHex(window.getComputedStyle(document.querySelector("body")).getPropertyValue("background-color"))),iconsColor="#".concat(rgbHex(window.getComputedStyle(sessionTitle).getPropertyValue("color"))),themeColorTab=document.querySelector('meta[name="theme-color"]');function setStorageTheme(){0!==window.localStorage.length&&localStorage.getItem("themeClass")||!storageAvailable("localStorage")||(localStorage.setItem("themeClass",JSON.stringify(themeClass)),localStorage.setItem("customThemeActive",JSON.stringify(customThemeActive)),localStorage.setItem("bodyBackgroundColor",JSON.stringify("#202020")),localStorage.setItem("iconsColor",JSON.stringify("#e8e8e8")),localStorage.setItem("customBodyBackgroundColor",JSON.stringify("#000080")),localStorage.setItem("customIconsColor",JSON.stringify("#c8c8c8")))}function loadStorageTheme(){themes.forEach(function(e){e.classList.contains(JSON.parse(localStorage.getItem("themeClass")))&&(newTheme=e.getAttribute("data-color"))}),JSON.parse(localStorage.getItem("customThemeActive"))?customThemeChanger(JSON.parse(localStorage.getItem("customBodyBackgroundColor")),JSON.parse(localStorage.getItem("customIconsColor"),!1)):executeChangeTheme(themeColor,themeBorder,themeActive,themeTitle,pomodoros,modalSettings,!1)}function colorPicker(){$("#color-picker-body").spectrum({color:"".concat(JSON.parse(localStorage.getItem("customBodyBackgroundColor"))),showInput:!0,showInitial:!0,showPalette:!0,showSelectionPalette:!0,hideAfterPaletteSelect:!0,maxSelectionSize:5,palette:[],localStorageKey:"customBodyBackgroundColorsList",preferredFormat:"hex"}),$("#color-picker-content").spectrum({color:"".concat(JSON.parse(localStorage.getItem("customIconsColor"))),showInput:!0,showInitial:!0,showPalette:!0,showSelectionPalette:!0,hideAfterPaletteSelect:!0,maxSelectionSize:5,palette:[],localStorageKey:"customIconsColorsList",preferredFormat:"hex"}),customValueBody=$("#color-picker-body").spectrum("get"),customValueIcons=$("#color-picker-content").spectrum("get"),$("#color-picker-body").on("change.spectrum",function(){customValueBody=$("#color-picker-body").spectrum("get")}),$("#color-picker-content").on("change.spectrum",function(){customValueIcons=$("#color-picker-content").spectrum("get")}),applyCustomTheme.addEventListener("click",function(){(timerStarted||pomodorosCount>=1)&&!longBreakTimeSelected||timerStarted?(themeWarningBackgroundCustom.style.display="block",tempCustomValueBody=customValueBody,tempCustomValueIcons=customValueIcons):(customThemeActive=!0,localStorage.setItem("customThemeActive",JSON.stringify(customThemeActive)),customThemeChanger(customValueBody,customValueIcons,!1),breakSelected?titleBorderColor(null,!0):longBreakTimeSelected&&titleBorderColor(null,!0))})}function customThemeChanger(e,t,o){body.setAttribute("style","background-color: ".concat(e,"; color: ").concat(t,";")),themeColor.forEach(function(e){e.setAttribute("style","color: ".concat(t,";"))}),themeBorder.forEach(function(e){e.setAttribute("style","border-color: ".concat(t,";"))}),breakSelected?breakTitle.setAttribute("style","background: linear-gradient(to right, ".concat(t,", ").concat(t,") no-repeat; background-size: 100% 1.5px; background-position: left bottom")):longBreakTimeSelected?longBreakTitle.setAttribute("style","background: linear-gradient(to right, ".concat(t,", ").concat(t,") no-repeat; background-size: 100% 1.5px; background-position: left bottom")):sessionTitle.setAttribute("style","background: linear-gradient(to right, ".concat(t,", ").concat(t,") no-repeat; background-size: 100% 1.5px; background-position: left bottom")),themeTitle.setAttribute("style","color: ".concat(t)),pomodoros.forEach(function(e){e.style.borderColor=t,longBreakTimeSelected&&!o&&(e.style.backgroundColor=t)}),hideModalSettings(modalSettings,settings),bodyBackgroundColor="#".concat(rgbHex(window.getComputedStyle(document.querySelector("body")).getPropertyValue("background-color"))),iconsColor="#".concat(rgbHex(window.getComputedStyle(sessionTitle).getPropertyValue("color"))),themeColorTab.setAttribute("content",bodyBackgroundColor),localStorage.setItem("customBodyBackgroundColor",JSON.stringify(bodyBackgroundColor)),localStorage.setItem("customIconsColor",JSON.stringify(iconsColor))}function removeCustomTheme(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(customThemeActive=!1,localStorage.setItem("customThemeActive",JSON.stringify(customThemeActive))),body.style.backgroundColor="",body.style.color="",themeColor.forEach(function(e){e.style.color=""}),themeBorder.forEach(function(e){e.style.borderColor=""}),breakTitle.style.background="",longBreakTitle.style.background="",themeActive.style.background="",themeActive.style.backgroundSize="",themeActive.style.backgroundPosition="",themeTitle.style.color="",pomodoros.forEach(function(e){e.style.borderColor="",e.style.backgroundColor=""})}function switchToSession(){sessionTimeSelected=!0,breakTimeSelected=!1,breakSelected=!1,longBreakTimeSelected=!1}function timerRestartTheme(e,t,o){e.addEventListener("click",function(){stopTimerHard(stop,sessionSeconds),newTheme=tempNewTheme,executeChangeTheme(themeColor,themeBorder,themeActive,themeTitle,pomodoros,modalSettings,!0),JSON.parse(localStorage.getItem("customThemeActive"))&&removeCustomTheme(!0),switchToSession(),o.style.display="none"}),t.addEventListener("click",function(){o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}function timerRestartThemeCustom(e,t,o){e.addEventListener("click",function(){customThemeActive=!0,localStorage.setItem("customThemeActive",JSON.stringify(customThemeActive)),removeCustomTheme(!1),stopTimerHard(stop,sessionSeconds),switchToSession(),customThemeChanger(customValueBody=tempCustomValueBody,customValueIcons=tempCustomValueIcons,!0),titleBorderColor(!0),o.style.display="none"}),t.addEventListener("click",function(){o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}function titleBorderColor(e,t){var o;JSON.parse(localStorage.getItem("customThemeActive"))||t?t&&(customThemeSwitch=breakSelected?"break":longBreakTimeSelected?"long break":"session",sessionTitle.classList="",breakTitle.classList="",longBreakTitle.classList="",sessionTitle.classList.add("time-option"),breakTitle.classList.add("time-option"),longBreakTitle.classList.add("time-option")):sessionTimeSelected?(o="".concat(e.classList[1],"-active"),sessionTitle.classList="",breakTitle.classList="",longBreakTitle.classList="",sessionTitle.classList.add("time-option"),breakTitle.classList.add("time-option"),longBreakTitle.classList.add("time-option"),sessionTitle.classList.add(o)):breakTimeSelected?(o="".concat(e.classList[1],"-active"),sessionTitle.classList="",breakTitle.classList="",longBreakTitle.classList="",sessionTitle.classList.add("time-option"),breakTitle.classList.add("time-option"),longBreakTitle.classList.add("time-option"),breakTitle.classList.add(o)):(o="".concat(e.classList[1],"-active"),sessionTitle.classList="",breakTitle.classList="",longBreakTitle.classList="",sessionTitle.classList.add("time-option"),breakTitle.classList.add("time-option"),longBreakTitle.classList.add("time-option"),longBreakTitle.classList.add(o))}function changeTheme(e){e.forEach(function(e){e.addEventListener("click",function(){(timerStarted||pomodorosCount>=1)&&!longBreakTimeSelected||timerStarted?(themeWarningBackgroundPrebuilt.style.display="block",tempNewTheme=e.getAttribute("data-color")):(JSON.parse(localStorage.getItem("customThemeActive"))&&removeCustomTheme(!0),setTimeout(function(){breakSelected?titleBorderColor(e,!1):longBreakTimeSelected&&titleBorderColor(e,!1)},0),newTheme=e.getAttribute("data-color"),executeChangeTheme(themeColor,themeBorder,themeActive,themeTitle,pomodoros,modalSettings,!1))})})}function executeChangeTheme(e,t,o,n,i,s,r){body.classList="",body.classList.add(newTheme),e.forEach(function(e){e.classList.remove("".concat(currentTheme,"-color")),e.classList.add("".concat(newTheme,"-color"))}),t.forEach(function(e){e.classList.remove("".concat(currentTheme,"-border")),e.classList.add("".concat(newTheme,"-border"))}),o.classList.remove("".concat(currentTheme,"-active")),o.classList.add("".concat(newTheme,"-active")),o=document.querySelector(".".concat(newTheme,"-active")),n.classList.remove("".concat(currentTheme,"-title")),n.classList.add("".concat(newTheme,"-title")),i.forEach(function(e){e.classList="",e.classList.add("pomodoro","".concat(newTheme,"-border")),longBreakTimeSelected&&!r&&e.classList.add("pomodoro","".concat(newTheme,"-background"))}),hideModalSettings(s,settings),currentTheme=body.classList[0],setTimeout(function(){bodyBackgroundColor="#".concat(rgbHex(window.getComputedStyle(document.querySelector("body")).getPropertyValue("background-color"))),iconsColor="#".concat(rgbHex(window.getComputedStyle(sessionTitle).getPropertyValue("color"))),themeColorTab.setAttribute("content",bodyBackgroundColor),localStorage.setItem("themeClass",JSON.stringify(document.querySelector("body").classList[0])),localStorage.setItem("bodyBackgroundColor",JSON.stringify(bodyBackgroundColor)),localStorage.setItem("iconsColor",JSON.stringify(iconsColor))},0)}function mainThemes(){setStorageTheme(),loadStorageTheme(),timerRestartTheme(acceptRestartPrebuilt,declineRestartPrebuilt,themeWarningBackgroundPrebuilt),timerRestartThemeCustom(acceptRestartCustom,declineRestartCustom,themeWarningBackgroundCustom),changeTheme(themes),colorPicker()}window.onload=mainThemes();
//# sourceMappingURL=bundle.min.js.map
