!function(){let e;const t=document.querySelector("#timer");let o=!1;const n=document.querySelector("#play"),r=document.querySelector("#pause"),s=document.querySelector("#stop"),c=document.querySelector("#reset"),a=document.querySelectorAll(".arrow"),i=document.querySelectorAll(".pomodoro");let l=0;const d=document.querySelector(".session-title h3"),u=document.querySelector("#increase-session"),y=document.querySelector("#session-minutes"),k=document.querySelector("#decrease-session"),g=document.querySelector(".break-title h3"),m=document.querySelector("#increase-break"),b=document.querySelector("#break-minutes"),p=document.querySelector("#decrease-break");let f=15;const h=document.querySelector(".pomodoro:last-of-type"),L=document.querySelector("#long-break-input"),S=document.querySelector(".confirm-time-change-long-break"),v=document.querySelector(".time-input-wrapper:last-child>label");let C=60*parseInt(y.textContent);const E=document.querySelector("#auto-start"),I=document.querySelector("#notifications"),w=document.querySelector("#tab-title-time"),x=document.querySelector("#break-long-break-link"),q=document.querySelectorAll(".preference");let A=!1,J=!0,N=!1,O=!1,z=!0;const P=document.querySelectorAll(".confirm-time-change"),M=document.querySelector("#session-input"),B=document.querySelector(".confirm-time-change-session"),K=document.querySelector("#break-input"),T=document.querySelector(".confirm-time-change-break"),D=document.querySelectorAll(".time-input"),F=document.querySelectorAll(".time-input-wrapper>label"),j="favicon/android-chrome-192x192.png";function G(){localStorage.setItem("session",JSON.stringify(y.textContent)),localStorage.setItem("break",JSON.stringify(b.textContent)),localStorage.setItem("longBreak",JSON.stringify(f))}function H(t,c=!0,d){function u(){o||(o=!0),A&&4!==l&&!o&&(C=60*b.textContent),t=C,clearInterval(e),r.disabled=!1,s.disabled=!1,E.disabled=!0,x.disabled=!0,n.disabled=!0;for(let e=0;e<D.length;e++)"long-break-input"===D[e].id&&x.checked||(D[e].disabled=!0,D[e].classList.add("line-through-long-break","opacity-long-break")),P[e].classList.contains("confirm-time-change-long-break")&&x.checked||(P[e].style.pointerEvents="none",P[e].classList.add("opacity-long-break","pointer-events-long-break")),"long-break-input"===F[e].getAttribute("for")&&x.checked||F[e].classList.add("line-through-long-break","opacity-long-break");a.forEach(e=>{e.disabled=!0});const d=Date.now()+1e3*t;V(t),e=setInterval(()=>{const t=Math.round((d-Date.now())/1e3);C-=1,t<1&&(clearInterval(e),E.checked&&(currentActive=R(!1),4===l?(Push.create("Long break over!",{body:"Session started.",icon:j}),A=!1,N=!0,J=!1,O=!1,l=0,i.forEach(e=>{Ie?e.setAttribute("style",`background-color: ${ve}; border-color: ${Ce};`):e.classList.remove(`${currentActive.split("-")[0]}-background`)}),H(C=60*parseInt(y.textContent),!0,!0)(),n.disabled=!1):c&&!A?(A=!0,N=!0,J=!1,l++,Ie?i[l-1].setAttribute("style",`background-color: ${Ce}; border-color: ${Ce};`):i[l-1].classList.add(`${currentActive.split("-")[0]}-background`),4===l?(C=Math.min(60*f,6e3),Push.create("Session over!",{body:"Long break started.",icon:j}),O=!0):(C=60*parseInt(b.textContent),Push.create("Session over!",{body:"Break started.",icon:j})),H(C,!1,!0)(),n.disabled=!1):(Push.create("Break over!",{body:"Session started.",icon:j}),A=!1,N=!1,J=!0,H(C=60*parseInt(y.textContent),!0,!0)(),n.disabled=!1))),V(t)},1e3)}if(d)return u;document.addEventListener("keydown",e=>{if(32===e.keyCode){if(e.repeat)return;r.disabled?u():W(r,!1)()}}),n.addEventListener("click",u)}function Q(e,t){36e4===e&&window.matchMedia("(max-width: 420px)").matches?t.style.fontSize="4.688rem":e>=3600&&window.matchMedia("(max-width: 420px)").matches?t.style.fontSize="5rem":t.style.fontSize="5.625rem"}function R(e){let t;if(Ie){if(e)return;d.classList="",g.classList="",z?(z=!1,d.style.background="",d.style.backgroundSize="",d.style.backgroundPosition="",g.style.background=`linear-gradient(to right, ${Ce}, ${Ce}) no-repeat`,g.style.backgroundSize="var(--pomodoro-size)",g.style.backgroundPosition="var(--pomodoro-position)"):(z=!0,g.style.background="",g.style.backgroundSize="",g.style.backgroundPosition="",d.style.background=`linear-gradient(to right, ${Ce}, ${Ce}) no-repeat`,d.style.backgroundSize="var(--pomodoro-size)",d.style.backgroundPosition="var(--pomodoro-position)")}else{if(t=d.classList.length>=1?d.classList[d.classList.length-1]:g.classList[g.classList.length-1],e)return t;g.classList.toggle(t),d.classList.toggle(t)}return t}function U(e,n,r,s=!0){function c(e=!1){const t=parseInt(n.textContent);parseInt(n.textContent)>=6e3&&!O||f>=6e3&&O&&!s&&t>=6e3||!s&&!A&&e||s&&A&&e||x.checked&&6e3===f&&!s&&t>=6e3||(!O||x.checked||s?n.textContent=parseInt(n.textContent)+1:(f+=1,V(C+=60,!1)),s?(A||V(60*parseInt(n.textContent),!1),A||O||(C+=60)):A&&(N&&O&&x.checked&&t<2e3?V(3*parseInt(n.textContent)*60,!1):O||V(60*parseInt(n.textContent),!1),O?x.checked||x.checked&&(C+=180):C+=60),x.checked&&6e3!==f&&(f=3*parseInt(b.textContent)))}function a(e=!1){if(parseInt(n.textContent)<=1&&!O||f<=1&&O&&!s||!s&&!A&&e||s&&A&&e||x.checked&&3===f&&!s)return;const t=3*parseInt(b.textContent);!O||x.checked||s?n.textContent=parseInt(n.textContent)-1:(f-=1,V(C-=60,!1)),s?(A||V(60*parseInt(n.textContent),!1),A||O||(C-=60)):A&&(N&&O&&x.checked&&t<=6e3?V(3*parseInt(n.textContent)*60,!1):O||V(60*parseInt(n.textContent),!1),O?x.checked&&t>=2e3||x.checked&&(C-=180):C-=60),x.checked&&t<=6e3&&(f=3*parseInt(b.textContent))}e.addEventListener("click",()=>{c(!1),Q(C,t),G()}),document.addEventListener("keydown",e=>{e.altKey&&38===e.keyCode&&!o&&(c(!0),Q(C,t),G())}),r.addEventListener("click",()=>{a(!1),Q(C,t),G()}),document.addEventListener("keydown",e=>{e.altKey&&40===e.keyCode&&!o&&(a(!0),Q(C,t),G())})}function V(e,o=!0){let n=Math.floor(e/60);const r=e%60;let s;if(n>=60){const e=Math.floor(n/60);n%=60,s=`${e<10?e.toString().padStart(2,0):e}:${n<10?n.toString().padStart(2,0):n}:${r<10?r.toString().padStart(2,0):r}`}else s=`${n<10?n.toString().padStart(2,0):n}:${r<10?r.toString().padStart(2,0):r}`;t.textContent=s,o&&w.checked&&(document.title=`(${s}) Pomodoro`)}function W(t,o){function r(){clearInterval(e),d.classList>=1?H(0,!0,!0):H(0,!1,!0),t.disabled=!0,n.disabled=!1}if(!o)return r;t.disabled=!0,t.addEventListener("click",r)}function X(){g.classList.length>=1?(d.classList.add(g.classList[g.classList.length-1]),g.classList=""):Ie&&(d.style.background=`linear-gradient(to right, ${Ce}, ${Ce}) no-repeat`,d.style.backgroundSize="var(--pomodoro-size)",d.style.backgroundPosition="var(--pomodoro-position)",g.style.background="",z=!0)}function Y(){for(let e=0;e<D.length;e++)"long-break-input"===D[e].id&&x.checked||(D[e].disabled=!1,D[e].classList.remove("line-through-long-break","opacity-long-break")),P[e].classList.contains("confirm-time-change-long-break")&&x.checked||(P[e].style.pointerEvents="auto",P[e].classList.remove("opacity-long-break","pointer-events-long-break")),"long-break-input"===F[e].getAttribute("for")&&x.checked||F[e].classList.remove("line-through-long-break","opacity-long-break")}function Z(s,c){parseInt(y.textContent),o=!1,c=60*parseInt(y.textContent),C=c,clearInterval(e),V(c),X(),_(i),l=0,A=!1,J=!0,N=!1,O=!1,s.disabled=!0,r.disabled=!0,n.disabled=!1,E.disabled=!1,x.disabled=!1,Y(),a.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",H(c,!0,!0),Q(C,t)}function _(e){e.forEach(e=>{if(Ie)e.classList="",e.classList.add("pomodoro"),e.style.backgroundColor="";else{const t=e.classList[1];e.classList="",e.classList.add("pomodoro",t)}})}function ee(e,t,o,n,r,s){function c(e){e.checked?(t.classList.add("line-through-long-break","opacity-long-break"),n.classList.add("line-through-long-break","opacity-long-break"),o.classList.add("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="none",t.disabled=!0,f=Math.min(3*+r.textContent,6e3),O&&(V(60*f,!1),C=60*f)):e.checked||(t.classList.remove("line-through-long-break","opacity-long-break"),n.classList.remove("line-through-long-break","opacity-long-break"),o.classList.remove("opacity-long-break","pointer-events-long-break"),o.style.pointerEvents="auto",t.disabled=!1)}if(e.addEventListener("change",()=>{c(e)}),s)return c}window.onload=(0===window.localStorage.length&&(localStorage.setItem("session",JSON.stringify(y.textContent)),localStorage.setItem("break",JSON.stringify(b.textContent)),localStorage.setItem("longBreak",JSON.stringify(f)),localStorage.setItem("autoStart",JSON.stringify(!0)),E.checked=!0,localStorage.setItem("notifications",JSON.stringify(!1)),I.checked=!1,localStorage.setItem("tabTitleTime",JSON.stringify(!0)),w.checked=!0,localStorage.setItem("breakLongBreakLink",JSON.stringify(!0)),x.checked=!0),q.forEach(e=>{e.addEventListener("change",()=>{localStorage.setItem(e.getAttribute("data-preference"),JSON.stringify(e.checked))})}),y.textContent=JSON.parse(localStorage.getItem("session")),V(C=60*+y.textContent,!1),b.textContent=JSON.parse(localStorage.getItem("break")),f=JSON.parse(localStorage.getItem("longBreak")),E.checked=JSON.parse(localStorage.getItem("autoStart")),I.checked=JSON.parse(localStorage.getItem("notifications")),w.checked=JSON.parse(localStorage.getItem("tabTitleTime")),x.checked=JSON.parse(localStorage.getItem("breakLongBreakLink")),ee(x,L,S,v,b,!0)(x),H(C,!0,!1),U(u,y,k,!0),U(m,b,p,!1),function(e,n,r){function c(){o&&Z(s,C),C===60*f&&_(i),A=!1,O=!1,C=60*parseInt(y.textContent),l=0,V(C,!1),H(C,!0,!0),J||N&&(N=!1,J=!0,R(!1)),Q(C,t)}function a(){o&&Z(s,C),C===60*f&&_(i),A=!0,O=!1,C=60*parseInt(b.textContent),l=0,V(C,!1),H(C,!1,!0),N||J&&(N=!0,J=!1,R(!1)),Q(C,t)}function d(){o&&Z(s,C),A=!0,O=!0,V(C=60*parseInt(f),!1),H(C,!1,!0),currentActive=R(!0),l=4,i.forEach(e=>{Ie?e.setAttribute("style",`background-color: ${Ce}; border-color: ${Ce};`):e.classList.add(`${currentActive.split("-")[0]}-background`)}),N||J&&(N=!0,J=!1,R(!1)),Q(C,t)}document.addEventListener("keydown",e=>{if(e.altKey&&80===e.keyCode){if(e.repeat)return;c()}}),e.addEventListener("click",c),document.addEventListener("keydown",e=>{if(e.altKey&&66===e.keyCode){if(e.repeat)return;a()}}),n.addEventListener("click",a),document.addEventListener("keydown",e=>{if(e.altKey&&76===e.keyCode){if(e.repeat)return;d()}}),r.addEventListener("click",d)}(d,g,h),W(r,!0),function(s,c){function i(){c=A&&4!==l?60*parseInt(b.textContent):4===l?60*f:60*parseInt(y.textContent),o=!1,C=c,clearInterval(e),V(c),s.disabled=!0,r.disabled=!0,n.disabled=!1,E.disabled=!1,x.disabled=!1,Y(),a.forEach(e=>{e.disabled=!1}),document.title="Pomodoro",H(c,!A,!0),Q(C,t)}s.disabled=!0,document.addEventListener("keydown",e=>{if(e.altKey&&83===e.keyCode){if(e.repeat)return;i()}}),s.addEventListener("click",i)}(s,C),function(s){function c(){o=!1,clearInterval(e),t.textContent="25:00",y.textContent="25",X(),A=!1,J=!0,N=!1,O=!1,Y(),_(i),l=0,C=60*parseInt(y.textContent),b.textContent="5",f=15,a.forEach(e=>{e.disabled=!1}),n.disabled=!1,r.disabled=!0,E.disabled=!1,x.disabled=!1,document.title="Pomodoro",H(60*parseInt(t.textContent.split(":")[0]),!0,!0),Q(C,t),G()}document.addEventListener("keydown",e=>{if(e.altKey&&82===e.keyCode){if(e.repeat)return;c()}}),s.addEventListener("click",c)}(c),function(e){e.addEventListener("change",e=>{e.target.checked&&Push.Permission.request()})}(I),function(e,o,n,r,s,c){function a(e){189!==e.keyCode&&187!==e.keyCode&&69!==e.keyCode&&190!==e.keyCode||e.preventDefault()}function i(e,t,o,n){let r=e.value;r>6e3?(r=6e3,e.value=6e3):(r<1||0===e.length)&&(r=1,e.value=1),o?A||V(C=60*r,!1):o||(O&&x.checked?(f=Math.min(3*r,6e3),V(C=60*f,!1)):O&&!x.checked?n&&V(C=60*r,!1):A&&!n?V(C=60*r,!1):n&&O&&V(C=60*r,!1)),n&&(f=+r),x.checked&&!o&&(f=Math.min(3*r,6e3)),t.textContent=parseInt(r,10)}e.addEventListener("click",()=>{i(o,y,!0,!1),Q(C,t),G()}),o.addEventListener("keydown",e=>{if(a(e),13===e.keyCode){if(e.repeat)return;i(o,y,!0,!1),Q(C,t),G()}}),n.addEventListener("click",()=>{i(r,b,!1,!1),Q(C,t),G()}),r.addEventListener("keydown",e=>{if(a(e),13===e.keyCode){if(e.repeat)return;i(r,b,!1,!1),Q(C,t),G()}}),s.addEventListener("click",()=>{i(c,f,!1,!0),Q(C,t),G()}),c.addEventListener("keydown",e=>{if(13===e.keyCode){if(e.repeat)return;i(c,f,!1,!0),Q(C,t),G()}})}(B,M,T,K,S,L),void ee(x,L,S,v,b,!1));const te=document.querySelector("#simple-modal-settings"),oe=document.querySelector("#simple-modal-about"),ne=document.querySelector("#modal-btn-settings"),re=document.querySelector("#modal-btn-about"),se=document.querySelector("#close-btn-settings"),ce=document.querySelector("#close-btn-about"),ae=document.querySelector(".settings"),ie=document.querySelector(".about");function le(e,t){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),t.style.transform="rotate(0deg)",ge.style.overflow="auto"}function de(e){e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),ie.style.transform="scale(1)",ge.style.overflow="auto"}window.onload=(function(e,t,o,n){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",n.style.transform="rotate(90deg)",ge.style.overflow="hidden",n.blur()}),o.addEventListener("click",()=>{le(e,n)}),window.addEventListener("click",function(t){t.target===e&&le(e,n)})}(te,ne,se,ae),void function(e,t,o,n){t.addEventListener("click",()=>{e.style.visibility="visible",e.style.opacity="1",n.style.transform="scale(0.85)",ge.style.overflow="hidden",n.blur()}),o.addEventListener("click",()=>{de(e)}),window.addEventListener("click",function(t){t.target===e&&de(e)})}(oe,re,ce,ie));const ue=window.matchMedia("(max-width: 420px)");function ye(e){e.matches?6e3===C?t.style.fontSize="4.688rem":C>=3600&&(t.style.fontSize="5rem"):t.style.fontSize="5.625rem"}window.onload=(ue.addListener(ye),void ye(ue));const ke=document.querySelectorAll(".theme"),ge=document.querySelector("body"),me=document.querySelectorAll(".dark-color"),be=(document.querySelectorAll(".dark-"),document.querySelectorAll(".dark-border"));let pe=document.querySelector(".dark-active");const fe=document.querySelector(".dark-title"),he=document.querySelector(".theme-warning-background"),Le=document.querySelector("#accept-restart"),Se=document.querySelector("#decline-restart");let ve,Ce;const Ee=document.querySelector("#apply-custom-theme");let Ie=!1;function we(){$("#color-picker-body").spectrum({color:"#000080",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),$("#color-picker-content").spectrum({color:"#C8C8C8",showInput:!0,showInitial:!0,showAlpha:!0,preferredFormat:"hex"}),ve=$("#color-picker-body").spectrum("get"),Ce=$("#color-picker-content").spectrum("get"),$("#color-picker-body").on("change.spectrum",()=>{ve=$("#color-picker-body").spectrum("get")}),$("#color-picker-content").on("change.spectrum",()=>{Ce=$("#color-picker-content").spectrum("get")}),Ee.addEventListener("click",()=>{(o||l>=1)&&!O||o?function(e,t,o,n,r){o.style.display="block",e.addEventListener("click",()=>{Ie=!0,qe(!1),Z(s,C),J=!0,N=!1,A=!1,O=!1,xe(n,r,!0),Ae(!0),o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}(Le,Se,he,ve,Ce):(Ie=!0,xe(ve,Ce,!1),A&&Ae(!0))})}function xe(e,t,o){ge.setAttribute("style",`background-color: ${e}; color: ${t};`),me.forEach(e=>{e.setAttribute("style",`color: ${t};`)}),be.forEach(e=>{e.setAttribute("style",`border-color: ${t}`)}),A?g.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`):d.setAttribute("style",`background: linear-gradient(to right, ${t}, ${t}) no-repeat; background-size: 100% 1.5px; background-position: left bottom`),fe.setAttribute("style",`color: ${t}`),i.forEach(e=>{e.style.borderColor=t,O&&!o&&(e.style.backgroundColor=t)}),le(te,ae)}function qe(e=!1){e&&(Ie=!1),ge.style.backgroundColor="",ge.style.color="",me.forEach(e=>{e.style.color=""}),be.forEach(e=>{e.style.borderColor=""}),g.style.background="",pe.style.background="",pe.style.backgroundSize="",pe.style.backgroundPosition="",fe.style.color="",i.forEach(e=>{e.style.borderColor="",e.style.backgroundColor=""})}function $e(e){e.forEach(e=>{e.addEventListener("click",function(){(o||l>=1)&&!O||o?function(e,t,o,n){o.style.display="block",e.addEventListener("click",()=>{Z(s,C),Je(n,me,be,pe,fe,i,te,!0),Ie&&qe(!0),J=!0,N=!1,A=!1,O=!1,o.style.display="none"}),t.addEventListener("click",()=>{o.style.display="none"}),window.addEventListener("click",function(e){e.target===o&&(o.style.display="none")})}(Le,Se,he,e):(Ie&&qe(!0),setTimeout(()=>{A&&Ae(!1)},0),Je(e,me,be,pe,fe,i,te,!1))})})}function Ae(e){if(Ie||e)e&&(z=!A,d.classList="",g.classList="");else{let e=d.classList[d.classList.length-1];g.classList="",g.classList.add(e),d.classList=""}}function Je(e,t,o,n,r,s,c,a){ge.classList="",ge.classList.add(e.classList[1]),t.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-color`)}),o.forEach(t=>{t.classList.remove(t.classList[t.classList.length-1]),t.classList.add(`${e.classList[1]}-border`)}),n.classList.remove(n.classList[n.classList.length-1]),n.classList.add(`${e.classList[1]}-active`),n=document.querySelector(`.${e.classList[1]}-active`),r.classList.remove(r.classList[r.classList.length-1]),r.classList.add(`${e.classList[1]}-title`),s.forEach(t=>{t.classList="",t.classList.add("pomodoro",`${e.classList[1]}-border`),O&&!a&&t.classList.add("pomodoro",`${e.classList[1]}-background`)}),le(c,ae)}window.onload=($e(ke),void we())}();
//# sourceMappingURL=bundle.min.js.map
